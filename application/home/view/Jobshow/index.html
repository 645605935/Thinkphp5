{extend name="./Template/Public/layout.html" /} {block name="title">Validation</block} {block name="headjs" } <script src="__JS__/bootstrap.min.js"></script>
<script type="text/javascript">
    var signQrcodeURL = '{:Url("Home/Jobshow/signQrcode","","")}',
        indexURL = '{:Url("Home/Index/index","","")}';
</script>
{/block} {block name="css"}
<link href="__CSS__/bootstrap-datetimepicker.min.css" rel="stylesheet" media="screen">{/block} {block name="content"}
<div id="wrapper">
    <!-- Navigation -->
    <div id="page-wrapper">
        <div class="col-md-12 graphs">
            <div class="xs" id="app">
                <h3>二维码</h3>
                <div class="well1 white">
                    <div class="form-group">
                        <button type="button" v-on:click="qrcode(index)" class="btn btn-primary" data-toggle="modal" data-target="#myModal2">生成二维码</button>
                    </div>
                </div>
                <div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                <h2 class="modal-title">招聘二维码</h2>
                            </div>
                            <div class="modal-body" style="text-align: center">
                                <img v-bind:src="qrcode_path">
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" data-dismiss="modal">确定</button>
                            </div>
                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-wrapper -->
</div>
<!-- /#wrapper -->
{/block} {block name="bodyjs"}
<script src="__JS__/home/job.js"></script>
<script type="text/javascript" src="__JS__/home/bootStrap/bootstrap-datetimepicker.min.js" charset="UTF-8"></script>
<script type="text/javascript" src="__JS__/home/bootStrap/locales/bootstrap-datetimepicker.zh-CN.js" charset="UTF-8"></script>
<script type="text/javascript">
    function fillZero(v) {
        if (v < 10) {
            v = '0' + v;
        }
        return v;
    }

    function getLocalTime(nS) {
        var d = new Date();
        d.setTime(nS);
        var Y, M, D, H, I, S;
        Y = d.getFullYear();
        M = fillZero(d.getMonth() + 1);
        D = fillZero(d.getDate());
        H = fillZero(d.getHours());
        I = fillZero(d.getMinutes());
        S = fillZero(d.getSeconds());
        return Y + '-' + M + '-' + D + ' ' + H + ':' + I + ':' + '00';
    }
    $('.form_datetime_start').datetimepicker({
        format: 'yyyy-mm-dd hh:ii',
        language: 'zh-CN',
        weekStart: 1,
        todayBtn: 1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        forceParse: 0,
        showMeridian: 1
    });
    $('.form_datetime_start').datetimepicker().on('changeDate', function(ev) {
        var q = getLocalTime(ev.date.valueOf());
        $('.form_datetime_end').val(q).datetimepicker('setStartDate', q).datetimepicker('update').val('');
    });
    $('.form_datetime_end').datetimepicker({
        format: 'yyyy-mm-dd hh:ii',
        language: 'zh-CN',
        weekStart: 1,
        todayBtn: 1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 1,
        minView: 0,
        forceParse: 0,
        showMeridian: 1
    });
    $('.form_datetime_end').click(function() {
        $('.warntime').hide();
    });
    $('.form_datetime_end').datetimepicker().on('changeDate', function(ev) {
        var q = ev.date.valueOf(),
            t = Date.parse($('.form_datetime_start').val());
        var m = q < t;
        if (m) {
            $('.warntime').show();
        }
    });
</script>
{/block}

</html>