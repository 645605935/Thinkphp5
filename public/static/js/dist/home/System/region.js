$(function(){HYD.ItemAdd=HYD.ItemAdd?HYD.ItemAdd:{},HYD.ItemAdd.goodsGroupLabel=[],_.each($(".j-goodsGroupLabel"),function(a,b){var c=$(a);HYD.ItemAdd.goodsGroupLabel.push({dom_item:c,id:c.data("id"),title:c.data("title"),isCheck:c.is(":checked")})});var a=function(){var a=_.template($("#tpl_add_step2_goodsGroupLabelList_item").html(),{dataset:HYD.ItemAdd.goodsGroupLabel});$(".j-goodsGroupLabelList").remove(),$(a).insertBefore(".droplist-goodsGroupLabelList")};$(".j-goodsGroupLabel").change(function(){var b=$(this).parent("label").index();HYD.ItemAdd.goodsGroupLabel[b].isCheck=$(this).is(":checked"),a()}),$(document).on("click",".j-goodsGroupLabelList .j-del",function(){var b=$(this).data("id");_.each(HYD.ItemAdd.goodsGroupLabel,function(a,c){return a.id==b?(a.isCheck=!1,a.dom_item.attr("checked",!1),!1):void 0}),a()}),$(document).on("change",".provicepack>label>input",function(a){var b=$(this),c=b.closest("label"),d=c.find(".citypack").children("label");b.attr("checked")?(c.children("strong").show(),d.each(function(a,b){$(this).children("input").attr("checked",!0),$(this).children(".areapack").children("label").each(function(a,b){$(this).children("input").attr("checked",!0)})}),c.children(".getCity").show()):(c.children("strong").hide(),c.children(".getCity").hide(),d.each(function(a,b){$(this).children("input").attr("checked",!1),$(this).children(".areapack").children("label").each(function(a,b){$(this).children("input").attr("checked",!1)})}))}),$(document).on("change",".citypack>label>input",function(a){var b=$(this),c=b.closest("label"),d=c.find(".areapack").children("label");b.attr("checked")?(d.children("input").attr("checked",!0),c.children("strong,.getArea").show()):(d.children("input").attr("checked",!1),c.children("strong,.getArea").hide());var e=c.closest(".citypack").children("label").children("input:checked").length;return 0!=e?c.closest(".citypack").siblings("strong").children("span").html(e):(b.attr("checked",!0),c.children("strong,.getArea").show(),HYD.hint("danger","已选择省份，至少选择一个城市")),!1}),$(document).on("change",".areapack>label>input",function(a){var b=$(this),c=b.closest("label"),d=c.closest(".areapack").children("label"),e=d.children("input:checked").length;0!=e?c.closest(".areapack").siblings("strong").children("span").html(e):(b.attr("checked",!0),HYD.hint("danger","已选择城市，至少选择一个县区"))}),$(document).on("click",".getCity",function(a){var b=$(this),c=b.closest("label"),d=c.children(".citypack");return c.addClass("on"),d.show(),c.children("input").attr("checked")&&d.children("label").each(function(a,b){var c=$(this),d=(c.children("input"),c.children(".areapack").find("label").children("input:checked").length);c.children("strong").show().children("span").html(d),c.children(".getArea").show()}),!1}),$(document).on("click",".getArea",function(a){var b=$(this),c=b.closest("label");return c.addClass("on"),c.children(".areapack").show(),!1}),$(document).on("click",".Jclose",function(a){$(this).closest(".citypack,.areapack").hide(),$(this).closest("label").removeClass("on")}),$(document).on("click",".closebtn",function(a){return!1});var b=function(){var a=[],b=[],c=[];$(".provicepack>label").each(function(b,c){var d=$(this),e=d.children("input:checkbox").val();d.children("input:checkbox").attr("checked")&&a.push(e)}),$(".citypack>label").each(function(a,c){var d=$(this).children("input:checkbox"),e=d.val();d.attr("checked")&&b.push(e)}),$(".areapack>label").each(function(a,b){var d=$(this).children("input:checkbox"),e=d.val();d.attr("checked")&&c.push(e)}),$("input[name='province_id']").val(a),$("input[name='city_id']").val(b),$("input[name='area_id']").val(c)};$("#form1").submit(function(){var a=$("input[name='express_start']"),c=$("input[name='express_plus']"),d=$("input[name='express_postage']"),e=$("input[name='postage_plus']"),f=$.trim(a.val()),g=c.val(),h=d.val(),i=e.val(),j=!0;if(""==f&&j&&(HYD.FormShowError(a,"请输入首件件数"),j=!1),""==g&&j&&(HYD.FormShowError(c,"请输入续件件数"),j=!1),""==h&&j&&(HYD.FormShowError(d,"请输入首件费用"),j=!1),""==i&&j&&(HYD.FormShowError(e,"请输入续件费用"),j=!1),b(),j){var k=$('input[name="province_id"]').val();k||(HYD.hint("warning","对不起，请选择区域！"),j=!1)}return j})});